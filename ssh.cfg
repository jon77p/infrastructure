ControlMaster auto
ControlPersist 600s
ControlPath /tmp/ansible-ssh-%h-%p-%r

Include ansible/ssh.cfg

IdentityFile ~/.ssh/oracle-terraform
IdentityFile ~/.ssh/picluster

Host pi1
  Hostname ssh-%h.thepi.cloud
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host pi2
  Hostname ssh-%h.thepi.cloud
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host innernet-server
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host timemachine
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host healthchecks
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host vault
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host nextcloud
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host firefly
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host grafana
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r

Host stash
  Hostname 150.230.44.67
  IdentityFile ~/.ssh/oracle-stash.key

Host kube*
  Hostname ssh-%h.jon77p.xyz
  ProxyCommand cloudflared access ssh --hostname %h --loglevel debug --log-directory /tmp/ansible-cloudflared-log-%h-%p-%r
