---
- hosts: localhost,monitoring
  vars:
    opconnect_item_names:
      - "monitoring"
      - "grafana"
    opconnect_field_names:
      - "healthcheck"
      - "username"
      - "password"
      - "smtp_username"
      - "smtp_password"
  roles:
    - 1password

- hosts: monitoring
  become: true
  roles:
    - common
    - cloudflared
    - cloudflare
    - cron
    - innernet
    - dns
    - prometheus
    - loki
    - promtail
    - grafana
    - docker
