---
- name: Create output items dict
  set_fact:
    opconnect_item_results: "{{ hostvars['localhost'].opconnect_item_results | combine(new_result) }}"
  vars:
    new_result: '{ "{{ item.key }}": {} }'

- name: Get values from 1Password Connect for {{ item.key }}
  include_tasks: opconnect-fields.yml
  vars:
    opconnect_item_name: "{{ item.key }}"
  loop: "{{ item.value }}"
  loop_control:
    loop_var: opconnect_field_name
