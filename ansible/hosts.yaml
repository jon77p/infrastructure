---
all:
  vars:
    ansible_become_pass: "{{ user_password }}"
  children:
    cluster:
      children:
        k8s:
          hosts:
            pi1:
              ansible_host: pi1
            pi2:
              ansible_host: pi2
          vars:
            ansible_ssh_user: pi
          children:
            manager:
              hosts:
                pi1:
            nodes:
              hosts:
                pi2:
    oci:
      children:
        services:
          hosts:
            firefly:
              ansible_host: firefly
            stash:
              ansible_host: stash
            # timemachine:
            # ansible_host: timemachine
            healthchecks:
              ansible_host: healthchecks
            nextcloud:
              ansible_host: nextcloud
            vault:
              ansible_host: vault
            codeserver:
              ansible_host: codeserver
            innernet:
              ansible_host: innernet
      vars:
        ansible_ssh_user: ubuntu
    deployments:
      hosts:
        certmanager:
        traefik:
        grafana:
        loki:
        promtail:
        prometheus:
        unifipoller:
        gaps:
        pihole:
        allaboutsecurity:
        nodered:
        influxdb:
        varken:
        traefikhub:
        piholeexporter:
        kubernetesdashboard:
        spekt8:
        descheduler:
