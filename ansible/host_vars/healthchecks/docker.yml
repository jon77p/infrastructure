---
compose_project_name: "healthchecks"
compose_project_port: "8000"
docker_volume_dir: "/mnt/{{ compose_project_name }}"
compose_definition: 
  version: '3'
  services:
    healthchecks:
      image: linuxserver/healthchecks:latest
      volumes:
        - "{{ docker_volume_dir }}:/config"
      ports:
        - "{{ compose_project_port }}:8000"
      environment:
        SITE_ROOT: "https://healthchecks.{{ domain }}"
        SITE_NAME: "Healthchecks"
        SITE_LOGO_URL: "https://healthchecks.io/static/img/logo-rounded.svg"
        DEFAULT_FROM_EMAIL: "healthchecks@{{ domain }}"
        EMAIL_HOST: "{{ email_host }}"
        EMAIL_PORT: "{{ email_port }}"
        EMAIL_HOST_USER: "{{ email_host_user }}"
        EMAIL_HOST_PASSWORD: "{{ email_host_password }}"
        EMAIL_USE_TLS: "{{ email_use_tls | string() }}"
        SUPERUSER_EMAIL: "{{ superuser_email }}"
        SUPERUSER_PASSWORD: "{{ superuser_password }}"
      restart: "always"
      healthcheck:
        test: [ "CMD", "wget", "https://hc-ping.com/{{ healthcheck_uuid }}", "-O", "/dev/null" ]
        timeout: 45s
        interval: 10s
        retries: 5
