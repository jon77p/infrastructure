---
apiVersion: v1
kind: ConfigMap
metadata:
  name: traefik-config
  # namespace: traefik
data:
  traefik-config.yaml: |
    http:
      routers:
        cockpit:
          rule: "Host(`cockpit-k3s.jon77p.xyz`)"
          entrypoints: "websecure"
          service: "cockpit"
          tls:
            certResolver: "cloudflare"
      services:
        cockpit:
          loadBalancer:
            servers:
              url: "http://pi1:9090"
              port: 9090
